<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Global Cybersecurity Dashboard</title>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      font-family: 'Roboto Condensed', sans-serif;
    }
  </style>
</head>
<body class="bg-[#e6f2ff] p-4">
  <div class="max-w-[1280px] mx-auto bg-white border border-gray-300 rounded-md p-4 space-y-4">

    <!-- Header -->
    <div class="flex items-center border border-gray-300 rounded-md bg-white p-2 shadow">
      <div class="w-16 h-14 border border-gray-300 rounded-md mr-2 flex flex-col items-center justify-center">
        <img src="https://cdn-icons-png.flaticon.com/512/4587/4587595.png" width="30" height="30" alt="Cyber Icon" class="object-contain"/>
        <p class="text-[10px] text-[#003366] mt-1">Cyber Threats</p>
      </div>
      <h1 class="flex-1 text-[#003366] font-extrabold text-xl text-center tracking-widest select-none" style="text-shadow: 1px 1px 1px #aaccee">
        GLOBAL CYBERSECURITY DASHBOARD
      </h1>
    </div>

    <!-- Filter Dropdown -->
    <form method="get">
      <div class="mb-4">
        <label for="year" class="text-sm text-[#003366] font-semibold">Select Year:</label>
        <select name="year" id="year" class="ml-2 border border-gray-300 rounded px-2 py-1 text-sm" onchange="this.form.submit()">
          {% for y in years %}
            <option value="{{ y }}" {% if y == selected_year %}selected{% endif %}>{{ y }}</option>
          {% endfor %}
        </select>
      </div>
    </form>

    <!-- Charts Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      {% for graph in graphs %}
      <div class="border border-[#003366] rounded-md bg-[#f0f8ff] p-2 shadow">
        {{ graph|safe }}
      </div>
      {% endfor %}
    </div>
  </div>
</body>
</html>
